function pageLoadListeners() {
	var allButtons = document.getElementsByClassName('story-button');
	for (var i = 0; i < allButtons.length; i++) {
		if (allButtons[i].classList.contains('previous-button') && !allButtons[i].classList.contains('skip-backward')) {
			allButtons[i].addEventListener('click', showPreviousSlide);
		} else if (allButtons[i].classList.contains('next-button') && !allButtons[i].classList.contains('skip-forward')) {
			allButtons[i].addEventListener('click', showNextSlide);
		} else if (allButtons[i].classList.contains('skip-forward')) {
			allButtons[i].addEventListener('click', skipToLastSlide);
		} else if (allButtons[i].classList.contains('skip-backward')) {
			allButtons[i].addEventListener('click', skipToFirstSlide);
		}
	}
	var hamburgerButton = document.getElementById('hamburgerButton');
		hamburgerButton.addEventListener('click', toggleMobileMenu);

	window.addEventListener('resize', checkForResize);
}

function toggleMobileMenu(e) {
	var mobileMenu = document.getElementById('navBarMobile');

	if (!mobileMenu.classList.contains('hidden')) {
		mobileMenu.classList.add('hidden');
		setTimeout(function() {
			$(mobileMenu).toggle();
		}, 200);
	} else {
		$(mobileMenu).toggle();
		setTimeout(function() {
			mobileMenu.classList.remove('hidden');
		}, 200);
	}
}

function createSlideshowAttributes() {
	var allSlideshows = document.getElementsByClassName('story-container');

	for (var i = 0; i < allSlideshows.length; i++) {
		var numberOfSlides = allSlideshows[i].children.length;
		allSlideshows[i].setAttribute("data-number-of-slides", numberOfSlides);
		allSlideshows[i].setAttribute("data-current-slide", 0);
	}
}

pageLoadListeners();

function showPreviousSlide(e) {
	var storyToMove = this.parentElement.parentElement.parentElement.children[0];
	var currentSlide = storyToMove.dataset.currentSlide;
		currentSlide = currentSlide - 0;

	var slideshowLength = storyToMove.dataset.numberOfSlides;
		slideshowLength = slideshowLength - 0;
	
	if (currentSlide > 0) {
		currentSlide--;
		
		storyToMove.setAttribute("data-current-slide", currentSlide);
		
		var nextButtons = this.parentElement.parentElement.children[1];

		if (currentSlide === 0) {
			this.parentElement.classList.remove('visible');
		} 

		if (currentSlide < slideshowLength - 1) {
			nextButtons.classList.add('visible');
		}

		changeSlide(storyToMove);
	}
}

function showNextSlide(e) {
	var storyToMove = this.parentElement.parentElement.parentElement.children[0];
	var currentSlide = storyToMove.dataset.currentSlide;
		currentSlide = currentSlide - 0;

	var slideshowLength = storyToMove.dataset.numberOfSlides;
		slideshowLength = slideshowLength - 1;
		
	if (currentSlide < slideshowLength) {
		currentSlide++;

		storyToMove.setAttribute('data-current-slide', currentSlide);
		
		var previousButtons = this.parentElement.parentElement.children[0];

		if (currentSlide == (slideshowLength)) {
			this.parentElement.classList.remove('visible');
		} 

		if (currentSlide > 0) {
			previousButtons.classList.add('visible');
		}

		changeSlide(storyToMove);
	}
}

function skipToLastSlide(e) {
	var storyToMove = this.parentElement.parentElement.parentElement.children[0];
	var slideshowLength = storyToMove.dataset.numberOfSlides;
		slideshowLength = slideshowLength - 1;

	storyToMove.setAttribute('data-current-slide', slideshowLength);

	this.parentElement.classList.remove('visible');
	
	var previousButtons = this.parentElement.parentElement.children[0];
	if (!previousButtons.classList.contains('visible')) {
		previousButtons.classList.add('visible');
	}

	changeSlide(storyToMove);
}

function skipToFirstSlide(e) {
	var storyToMove = this.parentElement.parentElement.parentElement.children[0];
	storyToMove.setAttribute('data-current-slide', '0');

	this.parentElement.classList.remove('visible');

	var nextButtons = this.parentElement.parentElement.children[1];
	if (!nextButtons.classList.contains('visible')) {
		nextButtons.classList.add('visible');
	}

	changeSlide(storyToMove);
}

function changeSlide(e) {
	var viewportWidth = document.documentElement.clientWidth;
	var currentSlide = e.dataset.currentSlide;
	var newLeftValue = -1 * (viewportWidth * currentSlide);
	e.style.left = newLeftValue;
}

$(window).ready(function() {
	createSlideshowAttributes();
});

var triggerResize;
var resizeCounter = 0;
var repositionCounter = 0;

function checkForResize() {
	clearTimeout(triggerResize);
	triggerResize = setTimeout(repositionSlideshows, 10);
}

function repositionSlideshows() {
	var allSlideshows = document.getElementsByClassName('story-container');
	for (var i = 0; i < allSlideshows.length; i++) {
		changeSlide(allSlideshows[i]);
	}
}














//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIHBhZ2VMb2FkTGlzdGVuZXJzKCkge1xuXHR2YXIgYWxsQnV0dG9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N0b3J5LWJ1dHRvbicpO1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGFsbEJ1dHRvbnMubGVuZ3RoOyBpKyspIHtcblx0XHRpZiAoYWxsQnV0dG9uc1tpXS5jbGFzc0xpc3QuY29udGFpbnMoJ3ByZXZpb3VzLWJ1dHRvbicpICYmICFhbGxCdXR0b25zW2ldLmNsYXNzTGlzdC5jb250YWlucygnc2tpcC1iYWNrd2FyZCcpKSB7XG5cdFx0XHRhbGxCdXR0b25zW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd1ByZXZpb3VzU2xpZGUpO1xuXHRcdH0gZWxzZSBpZiAoYWxsQnV0dG9uc1tpXS5jbGFzc0xpc3QuY29udGFpbnMoJ25leHQtYnV0dG9uJykgJiYgIWFsbEJ1dHRvbnNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdza2lwLWZvcndhcmQnKSkge1xuXHRcdFx0YWxsQnV0dG9uc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNob3dOZXh0U2xpZGUpO1xuXHRcdH0gZWxzZSBpZiAoYWxsQnV0dG9uc1tpXS5jbGFzc0xpc3QuY29udGFpbnMoJ3NraXAtZm9yd2FyZCcpKSB7XG5cdFx0XHRhbGxCdXR0b25zW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2tpcFRvTGFzdFNsaWRlKTtcblx0XHR9IGVsc2UgaWYgKGFsbEJ1dHRvbnNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdza2lwLWJhY2t3YXJkJykpIHtcblx0XHRcdGFsbEJ1dHRvbnNbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBza2lwVG9GaXJzdFNsaWRlKTtcblx0XHR9XG5cdH1cblx0dmFyIGhhbWJ1cmdlckJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoYW1idXJnZXJCdXR0b24nKTtcblx0XHRoYW1idXJnZXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0b2dnbGVNb2JpbGVNZW51KTtcblxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgY2hlY2tGb3JSZXNpemUpO1xufVxuXG5mdW5jdGlvbiB0b2dnbGVNb2JpbGVNZW51KGUpIHtcblx0dmFyIG1vYmlsZU1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmF2QmFyTW9iaWxlJyk7XG5cblx0aWYgKCFtb2JpbGVNZW51LmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcblx0XHRtb2JpbGVNZW51LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHQkKG1vYmlsZU1lbnUpLnRvZ2dsZSgpO1xuXHRcdH0sIDIwMCk7XG5cdH0gZWxzZSB7XG5cdFx0JChtb2JpbGVNZW51KS50b2dnbGUoKTtcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0bW9iaWxlTWVudS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcblx0XHR9LCAyMDApO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVNsaWRlc2hvd0F0dHJpYnV0ZXMoKSB7XG5cdHZhciBhbGxTbGlkZXNob3dzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3RvcnktY29udGFpbmVyJyk7XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhbGxTbGlkZXNob3dzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIG51bWJlck9mU2xpZGVzID0gYWxsU2xpZGVzaG93c1tpXS5jaGlsZHJlbi5sZW5ndGg7XG5cdFx0YWxsU2xpZGVzaG93c1tpXS5zZXRBdHRyaWJ1dGUoXCJkYXRhLW51bWJlci1vZi1zbGlkZXNcIiwgbnVtYmVyT2ZTbGlkZXMpO1xuXHRcdGFsbFNsaWRlc2hvd3NbaV0uc2V0QXR0cmlidXRlKFwiZGF0YS1jdXJyZW50LXNsaWRlXCIsIDApO1xuXHR9XG59XG5cbnBhZ2VMb2FkTGlzdGVuZXJzKCk7XG5cbmZ1bmN0aW9uIHNob3dQcmV2aW91c1NsaWRlKGUpIHtcblx0dmFyIHN0b3J5VG9Nb3ZlID0gdGhpcy5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jaGlsZHJlblswXTtcblx0dmFyIGN1cnJlbnRTbGlkZSA9IHN0b3J5VG9Nb3ZlLmRhdGFzZXQuY3VycmVudFNsaWRlO1xuXHRcdGN1cnJlbnRTbGlkZSA9IGN1cnJlbnRTbGlkZSAtIDA7XG5cblx0dmFyIHNsaWRlc2hvd0xlbmd0aCA9IHN0b3J5VG9Nb3ZlLmRhdGFzZXQubnVtYmVyT2ZTbGlkZXM7XG5cdFx0c2xpZGVzaG93TGVuZ3RoID0gc2xpZGVzaG93TGVuZ3RoIC0gMDtcblx0XG5cdGlmIChjdXJyZW50U2xpZGUgPiAwKSB7XG5cdFx0Y3VycmVudFNsaWRlLS07XG5cdFx0XG5cdFx0c3RvcnlUb01vdmUuc2V0QXR0cmlidXRlKFwiZGF0YS1jdXJyZW50LXNsaWRlXCIsIGN1cnJlbnRTbGlkZSk7XG5cdFx0XG5cdFx0dmFyIG5leHRCdXR0b25zID0gdGhpcy5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2hpbGRyZW5bMV07XG5cblx0XHRpZiAoY3VycmVudFNsaWRlID09PSAwKSB7XG5cdFx0XHR0aGlzLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuXHRcdH0gXG5cblx0XHRpZiAoY3VycmVudFNsaWRlIDwgc2xpZGVzaG93TGVuZ3RoIC0gMSkge1xuXHRcdFx0bmV4dEJ1dHRvbnMuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuXHRcdH1cblxuXHRcdGNoYW5nZVNsaWRlKHN0b3J5VG9Nb3ZlKTtcblx0fVxufVxuXG5mdW5jdGlvbiBzaG93TmV4dFNsaWRlKGUpIHtcblx0dmFyIHN0b3J5VG9Nb3ZlID0gdGhpcy5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jaGlsZHJlblswXTtcblx0dmFyIGN1cnJlbnRTbGlkZSA9IHN0b3J5VG9Nb3ZlLmRhdGFzZXQuY3VycmVudFNsaWRlO1xuXHRcdGN1cnJlbnRTbGlkZSA9IGN1cnJlbnRTbGlkZSAtIDA7XG5cblx0dmFyIHNsaWRlc2hvd0xlbmd0aCA9IHN0b3J5VG9Nb3ZlLmRhdGFzZXQubnVtYmVyT2ZTbGlkZXM7XG5cdFx0c2xpZGVzaG93TGVuZ3RoID0gc2xpZGVzaG93TGVuZ3RoIC0gMTtcblx0XHRcblx0aWYgKGN1cnJlbnRTbGlkZSA8IHNsaWRlc2hvd0xlbmd0aCkge1xuXHRcdGN1cnJlbnRTbGlkZSsrO1xuXG5cdFx0c3RvcnlUb01vdmUuc2V0QXR0cmlidXRlKCdkYXRhLWN1cnJlbnQtc2xpZGUnLCBjdXJyZW50U2xpZGUpO1xuXHRcdFxuXHRcdHZhciBwcmV2aW91c0J1dHRvbnMgPSB0aGlzLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jaGlsZHJlblswXTtcblxuXHRcdGlmIChjdXJyZW50U2xpZGUgPT0gKHNsaWRlc2hvd0xlbmd0aCkpIHtcblx0XHRcdHRoaXMucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG5cdFx0fSBcblxuXHRcdGlmIChjdXJyZW50U2xpZGUgPiAwKSB7XG5cdFx0XHRwcmV2aW91c0J1dHRvbnMuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuXHRcdH1cblxuXHRcdGNoYW5nZVNsaWRlKHN0b3J5VG9Nb3ZlKTtcblx0fVxufVxuXG5mdW5jdGlvbiBza2lwVG9MYXN0U2xpZGUoZSkge1xuXHR2YXIgc3RvcnlUb01vdmUgPSB0aGlzLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuWzBdO1xuXHR2YXIgc2xpZGVzaG93TGVuZ3RoID0gc3RvcnlUb01vdmUuZGF0YXNldC5udW1iZXJPZlNsaWRlcztcblx0XHRzbGlkZXNob3dMZW5ndGggPSBzbGlkZXNob3dMZW5ndGggLSAxO1xuXG5cdHN0b3J5VG9Nb3ZlLnNldEF0dHJpYnV0ZSgnZGF0YS1jdXJyZW50LXNsaWRlJywgc2xpZGVzaG93TGVuZ3RoKTtcblxuXHR0aGlzLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuXHRcblx0dmFyIHByZXZpb3VzQnV0dG9ucyA9IHRoaXMucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuWzBdO1xuXHRpZiAoIXByZXZpb3VzQnV0dG9ucy5jbGFzc0xpc3QuY29udGFpbnMoJ3Zpc2libGUnKSkge1xuXHRcdHByZXZpb3VzQnV0dG9ucy5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG5cdH1cblxuXHRjaGFuZ2VTbGlkZShzdG9yeVRvTW92ZSk7XG59XG5cbmZ1bmN0aW9uIHNraXBUb0ZpcnN0U2xpZGUoZSkge1xuXHR2YXIgc3RvcnlUb01vdmUgPSB0aGlzLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuWzBdO1xuXHRzdG9yeVRvTW92ZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtY3VycmVudC1zbGlkZScsICcwJyk7XG5cblx0dGhpcy5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcblxuXHR2YXIgbmV4dEJ1dHRvbnMgPSB0aGlzLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jaGlsZHJlblsxXTtcblx0aWYgKCFuZXh0QnV0dG9ucy5jbGFzc0xpc3QuY29udGFpbnMoJ3Zpc2libGUnKSkge1xuXHRcdG5leHRCdXR0b25zLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcblx0fVxuXG5cdGNoYW5nZVNsaWRlKHN0b3J5VG9Nb3ZlKTtcbn1cblxuZnVuY3Rpb24gY2hhbmdlU2xpZGUoZSkge1xuXHR2YXIgdmlld3BvcnRXaWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcblx0dmFyIGN1cnJlbnRTbGlkZSA9IGUuZGF0YXNldC5jdXJyZW50U2xpZGU7XG5cdHZhciBuZXdMZWZ0VmFsdWUgPSAtMSAqICh2aWV3cG9ydFdpZHRoICogY3VycmVudFNsaWRlKTtcblx0ZS5zdHlsZS5sZWZ0ID0gbmV3TGVmdFZhbHVlO1xufVxuXG4kKHdpbmRvdykucmVhZHkoZnVuY3Rpb24oKSB7XG5cdGNyZWF0ZVNsaWRlc2hvd0F0dHJpYnV0ZXMoKTtcbn0pO1xuXG52YXIgdHJpZ2dlclJlc2l6ZTtcbnZhciByZXNpemVDb3VudGVyID0gMDtcbnZhciByZXBvc2l0aW9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGNoZWNrRm9yUmVzaXplKCkge1xuXHRjbGVhclRpbWVvdXQodHJpZ2dlclJlc2l6ZSk7XG5cdHRyaWdnZXJSZXNpemUgPSBzZXRUaW1lb3V0KHJlcG9zaXRpb25TbGlkZXNob3dzLCAxMCk7XG59XG5cbmZ1bmN0aW9uIHJlcG9zaXRpb25TbGlkZXNob3dzKCkge1xuXHR2YXIgYWxsU2xpZGVzaG93cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N0b3J5LWNvbnRhaW5lcicpO1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGFsbFNsaWRlc2hvd3MubGVuZ3RoOyBpKyspIHtcblx0XHRjaGFuZ2VTbGlkZShhbGxTbGlkZXNob3dzW2ldKTtcblx0fVxufVxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4iXX0=
